ARM GAS  C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"button.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.global	KeyReg0
  16              		.section	.data.KeyReg0,"aw"
  17              		.align	2
  20              	KeyReg0:
  21 0000 01000000 		.word	1
  22              		.global	KeyReg1
  23              		.section	.data.KeyReg1,"aw"
  24              		.align	2
  27              	KeyReg1:
  28 0000 01000000 		.word	1
  29              		.global	KeyReg2
  30              		.section	.data.KeyReg2,"aw"
  31              		.align	2
  34              	KeyReg2:
  35 0000 01000000 		.word	1
  36              		.global	KeyReg3
  37              		.section	.data.KeyReg3,"aw"
  38              		.align	2
  41              	KeyReg3:
  42 0000 01000000 		.word	1
  43              		.global	TimeOutForKeyPress
  44              		.section	.data.TimeOutForKeyPress,"aw"
  45              		.align	2
  48              	TimeOutForKeyPress:
  49 0000 F4010000 		.word	500
  50              		.global	button1_flag
  51              		.section	.bss.button1_flag,"aw",%nobits
  52              		.align	2
  55              	button1_flag:
  56 0000 00000000 		.space	4
  57              		.section	.text.isButton1Pressed,"ax",%progbits
  58              		.align	1
  59              		.global	isButton1Pressed
  60              		.arch armv7-m
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  64              		.fpu softvfp
  66              	isButton1Pressed:
  67              	.LFB65:
  68              		.file 1 "./Core/Src/button.c"
   1:./Core/Src/button.c **** /*
   2:./Core/Src/button.c ****  * button.c
ARM GAS  C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s 			page 2


   3:./Core/Src/button.c ****  *
   4:./Core/Src/button.c ****  *  Created on: Sep 21, 2022
   5:./Core/Src/button.c ****  *      Author: KAI
   6:./Core/Src/button.c ****  */
   7:./Core/Src/button.c **** 
   8:./Core/Src/button.c **** #include "button.h"
   9:./Core/Src/button.c **** int KeyReg0 = NORMAL_STATE;
  10:./Core/Src/button.c **** int KeyReg1 = NORMAL_STATE;
  11:./Core/Src/button.c **** int KeyReg2 = NORMAL_STATE;
  12:./Core/Src/button.c **** int KeyReg3 = NORMAL_STATE;
  13:./Core/Src/button.c **** 
  14:./Core/Src/button.c **** int TimeOutForKeyPress =  500;
  15:./Core/Src/button.c **** int button1_flag = 0;
  16:./Core/Src/button.c **** 
  17:./Core/Src/button.c **** int isButton1Pressed(){
  69              		.loc 1 17 23
  70              		.cfi_startproc
  71              		@ args = 0, pretend = 0, frame = 0
  72              		@ frame_needed = 1, uses_anonymous_args = 0
  73              		@ link register save eliminated.
  74 0000 80B4     		push	{r7}
  75              		.cfi_def_cfa_offset 4
  76              		.cfi_offset 7, -4
  77 0002 00AF     		add	r7, sp, #0
  78              		.cfi_def_cfa_register 7
  18:./Core/Src/button.c **** 	if(button1_flag == 1){
  79              		.loc 1 18 18
  80 0004 064B     		ldr	r3, .L4
  81 0006 1B68     		ldr	r3, [r3]
  82              		.loc 1 18 4
  83 0008 012B     		cmp	r3, #1
  84 000a 04D1     		bne	.L2
  19:./Core/Src/button.c **** 		button1_flag = 0;
  85              		.loc 1 19 16
  86 000c 044B     		ldr	r3, .L4
  87 000e 0022     		movs	r2, #0
  88 0010 1A60     		str	r2, [r3]
  20:./Core/Src/button.c **** 		return 1;
  89              		.loc 1 20 10
  90 0012 0123     		movs	r3, #1
  91 0014 00E0     		b	.L3
  92              	.L2:
  21:./Core/Src/button.c **** 	}
  22:./Core/Src/button.c **** 	return 0;
  93              		.loc 1 22 9
  94 0016 0023     		movs	r3, #0
  95              	.L3:
  23:./Core/Src/button.c **** }
  96              		.loc 1 23 1
  97 0018 1846     		mov	r0, r3
  98 001a BD46     		mov	sp, r7
  99              		.cfi_def_cfa_register 13
 100              		@ sp needed
 101 001c 80BC     		pop	{r7}
 102              		.cfi_restore 7
 103              		.cfi_def_cfa_offset 0
 104 001e 7047     		bx	lr
ARM GAS  C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s 			page 3


 105              	.L5:
 106              		.align	2
 107              	.L4:
 108 0020 00000000 		.word	button1_flag
 109              		.cfi_endproc
 110              	.LFE65:
 112              		.section	.text.subKeyProcess,"ax",%progbits
 113              		.align	1
 114              		.global	subKeyProcess
 115              		.syntax unified
 116              		.thumb
 117              		.thumb_func
 118              		.fpu softvfp
 120              	subKeyProcess:
 121              	.LFB66:
  24:./Core/Src/button.c **** 
  25:./Core/Src/button.c **** void subKeyProcess(){
 122              		.loc 1 25 21
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 0
 125              		@ frame_needed = 1, uses_anonymous_args = 0
 126 0000 80B5     		push	{r7, lr}
 127              		.cfi_def_cfa_offset 8
 128              		.cfi_offset 7, -8
 129              		.cfi_offset 14, -4
 130 0002 00AF     		add	r7, sp, #0
 131              		.cfi_def_cfa_register 7
  26:./Core/Src/button.c **** 	//TODO
  27:./Core/Src/button.c **** 	HAL_GPIO_TogglePin(LED_RED_GPIO_Port, LED_RED_Pin);
 132              		.loc 1 27 2
 133 0004 2021     		movs	r1, #32
 134 0006 0448     		ldr	r0, .L7
 135 0008 FFF7FEFF 		bl	HAL_GPIO_TogglePin
  28:./Core/Src/button.c **** 	button1_flag = 1;
 136              		.loc 1 28 15
 137 000c 034B     		ldr	r3, .L7+4
 138 000e 0122     		movs	r2, #1
 139 0010 1A60     		str	r2, [r3]
  29:./Core/Src/button.c **** }
 140              		.loc 1 29 1
 141 0012 00BF     		nop
 142 0014 80BD     		pop	{r7, pc}
 143              	.L8:
 144 0016 00BF     		.align	2
 145              	.L7:
 146 0018 00080140 		.word	1073809408
 147 001c 00000000 		.word	button1_flag
 148              		.cfi_endproc
 149              	.LFE66:
 151              		.section	.text.getKeyInput,"ax",%progbits
 152              		.align	1
 153              		.global	getKeyInput
 154              		.syntax unified
 155              		.thumb
 156              		.thumb_func
 157              		.fpu softvfp
 159              	getKeyInput:
ARM GAS  C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s 			page 4


 160              	.LFB67:
  30:./Core/Src/button.c **** 
  31:./Core/Src/button.c **** void getKeyInput(){
 161              		.loc 1 31 19
 162              		.cfi_startproc
 163              		@ args = 0, pretend = 0, frame = 0
 164              		@ frame_needed = 1, uses_anonymous_args = 0
 165 0000 80B5     		push	{r7, lr}
 166              		.cfi_def_cfa_offset 8
 167              		.cfi_offset 7, -8
 168              		.cfi_offset 14, -4
 169 0002 00AF     		add	r7, sp, #0
 170              		.cfi_def_cfa_register 7
  32:./Core/Src/button.c ****   KeyReg2 = KeyReg1;
 171              		.loc 1 32 11
 172 0004 1F4B     		ldr	r3, .L13
 173 0006 1B68     		ldr	r3, [r3]
 174 0008 1F4A     		ldr	r2, .L13+4
 175 000a 1360     		str	r3, [r2]
  33:./Core/Src/button.c ****   KeyReg1 = KeyReg0;
 176              		.loc 1 33 11
 177 000c 1F4B     		ldr	r3, .L13+8
 178 000e 1B68     		ldr	r3, [r3]
 179 0010 1C4A     		ldr	r2, .L13
 180 0012 1360     		str	r3, [r2]
  34:./Core/Src/button.c ****   KeyReg0 = HAL_GPIO_ReadPin(Button1_GPIO_Port, Button1_Pin);
 181              		.loc 1 34 13
 182 0014 4FF40051 		mov	r1, #8192
 183 0018 1D48     		ldr	r0, .L13+12
 184 001a FFF7FEFF 		bl	HAL_GPIO_ReadPin
 185 001e 0346     		mov	r3, r0
 186 0020 1A46     		mov	r2, r3
 187              		.loc 1 34 11
 188 0022 1A4B     		ldr	r3, .L13+8
 189 0024 1A60     		str	r2, [r3]
  35:./Core/Src/button.c ****   if ((KeyReg1 == KeyReg0) && (KeyReg1 == KeyReg2)){
 190              		.loc 1 35 16
 191 0026 174B     		ldr	r3, .L13
 192 0028 1A68     		ldr	r2, [r3]
 193 002a 184B     		ldr	r3, .L13+8
 194 002c 1B68     		ldr	r3, [r3]
 195              		.loc 1 35 6
 196 002e 9A42     		cmp	r2, r3
 197 0030 26D1     		bne	.L12
 198              		.loc 1 35 40 discriminator 1
 199 0032 144B     		ldr	r3, .L13
 200 0034 1A68     		ldr	r2, [r3]
 201 0036 144B     		ldr	r3, .L13+4
 202 0038 1B68     		ldr	r3, [r3]
 203              		.loc 1 35 28 discriminator 1
 204 003a 9A42     		cmp	r2, r3
 205 003c 20D1     		bne	.L12
  36:./Core/Src/button.c ****     if (KeyReg2 != KeyReg3){
 206              		.loc 1 36 17
 207 003e 124B     		ldr	r3, .L13+4
 208 0040 1A68     		ldr	r2, [r3]
 209 0042 144B     		ldr	r3, .L13+16
ARM GAS  C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s 			page 5


 210 0044 1B68     		ldr	r3, [r3]
 211              		.loc 1 36 8
 212 0046 9A42     		cmp	r2, r3
 213 0048 0ED0     		beq	.L11
  37:./Core/Src/button.c ****       KeyReg3 = KeyReg2;
 214              		.loc 1 37 15
 215 004a 0F4B     		ldr	r3, .L13+4
 216 004c 1B68     		ldr	r3, [r3]
 217 004e 114A     		ldr	r2, .L13+16
 218 0050 1360     		str	r3, [r2]
  38:./Core/Src/button.c **** 
  39:./Core/Src/button.c ****       if (KeyReg3 == PRESSED_STATE){
 219              		.loc 1 39 19
 220 0052 104B     		ldr	r3, .L13+16
 221 0054 1B68     		ldr	r3, [r3]
 222              		.loc 1 39 10
 223 0056 002B     		cmp	r3, #0
 224 0058 12D1     		bne	.L12
  40:./Core/Src/button.c ****         TimeOutForKeyPress = 500;
 225              		.loc 1 40 28
 226 005a 0F4B     		ldr	r3, .L13+20
 227 005c 4FF4FA72 		mov	r2, #500
 228 0060 1A60     		str	r2, [r3]
  41:./Core/Src/button.c ****         subKeyProcess();
 229              		.loc 1 41 9
 230 0062 FFF7FEFF 		bl	subKeyProcess
  42:./Core/Src/button.c ****       }
  43:./Core/Src/button.c ****     }else{
  44:./Core/Src/button.c ****        TimeOutForKeyPress --;
  45:./Core/Src/button.c ****         if (TimeOutForKeyPress == 0){
  46:./Core/Src/button.c ****           KeyReg3 = NORMAL_STATE;
  47:./Core/Src/button.c ****         }
  48:./Core/Src/button.c ****     }
  49:./Core/Src/button.c ****   }
  50:./Core/Src/button.c **** }
 231              		.loc 1 50 1
 232 0066 0BE0     		b	.L12
 233              	.L11:
  44:./Core/Src/button.c ****         if (TimeOutForKeyPress == 0){
 234              		.loc 1 44 27
 235 0068 0B4B     		ldr	r3, .L13+20
 236 006a 1B68     		ldr	r3, [r3]
 237 006c 013B     		subs	r3, r3, #1
 238 006e 0A4A     		ldr	r2, .L13+20
 239 0070 1360     		str	r3, [r2]
  45:./Core/Src/button.c ****           KeyReg3 = NORMAL_STATE;
 240              		.loc 1 45 32
 241 0072 094B     		ldr	r3, .L13+20
 242 0074 1B68     		ldr	r3, [r3]
  45:./Core/Src/button.c ****           KeyReg3 = NORMAL_STATE;
 243              		.loc 1 45 12
 244 0076 002B     		cmp	r3, #0
 245 0078 02D1     		bne	.L12
  46:./Core/Src/button.c ****         }
 246              		.loc 1 46 19
 247 007a 064B     		ldr	r3, .L13+16
 248 007c 0122     		movs	r2, #1
ARM GAS  C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s 			page 6


 249 007e 1A60     		str	r2, [r3]
 250              	.L12:
 251              		.loc 1 50 1
 252 0080 00BF     		nop
 253 0082 80BD     		pop	{r7, pc}
 254              	.L14:
 255              		.align	2
 256              	.L13:
 257 0084 00000000 		.word	KeyReg1
 258 0088 00000000 		.word	KeyReg2
 259 008c 00000000 		.word	KeyReg0
 260 0090 00100140 		.word	1073811456
 261 0094 00000000 		.word	KeyReg3
 262 0098 00000000 		.word	TimeOutForKeyPress
 263              		.cfi_endproc
 264              	.LFE67:
 266              		.text
 267              	.Letext0:
 268              		.file 2 "c:\\st\\stm32cubeide_1.7.0\\stm32cubeide\\plugins\\com.st.stm32cube.ide.mcu.externaltools
 269              		.file 3 "c:\\st\\stm32cubeide_1.7.0\\stm32cubeide\\plugins\\com.st.stm32cube.ide.mcu.externaltools
 270              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 271              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 272              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103x6.h"
 273              		.file 7 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 274              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 275              		.file 9 "Core/Inc/button.h"
ARM GAS  C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 button.c
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:20     .data.KeyReg0:0000000000000000 KeyReg0
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:17     .data.KeyReg0:0000000000000000 $d
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:27     .data.KeyReg1:0000000000000000 KeyReg1
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:24     .data.KeyReg1:0000000000000000 $d
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:34     .data.KeyReg2:0000000000000000 KeyReg2
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:31     .data.KeyReg2:0000000000000000 $d
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:41     .data.KeyReg3:0000000000000000 KeyReg3
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:38     .data.KeyReg3:0000000000000000 $d
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:48     .data.TimeOutForKeyPress:0000000000000000 TimeOutForKeyPress
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:45     .data.TimeOutForKeyPress:0000000000000000 $d
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:55     .bss.button1_flag:0000000000000000 button1_flag
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:52     .bss.button1_flag:0000000000000000 $d
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:58     .text.isButton1Pressed:0000000000000000 $t
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:66     .text.isButton1Pressed:0000000000000000 isButton1Pressed
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:108    .text.isButton1Pressed:0000000000000020 $d
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:113    .text.subKeyProcess:0000000000000000 $t
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:120    .text.subKeyProcess:0000000000000000 subKeyProcess
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:146    .text.subKeyProcess:0000000000000018 $d
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:152    .text.getKeyInput:0000000000000000 $t
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:159    .text.getKeyInput:0000000000000000 getKeyInput
C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s:257    .text.getKeyInput:0000000000000084 $d
                           .group:0000000000000000 wm4.0.a21ab13f311afe0255bb80aef44f75e6
                           .group:0000000000000000 wm4.stm32f1xx_hal_conf.h.21.98635006afa9a018cfa5e0632ed4968b
                           .group:0000000000000000 wm4.stm32f1xx.h.39.208bb8a61c892b7c37d899c49a031330
                           .group:0000000000000000 wm4.stm32f103x6.h.38.c380e9c6400cf3b45331581c31968951
                           .group:0000000000000000 wm4._newlib_version.h.4.1ef4e12f167f8b69d7c30054be56050d
                           .group:0000000000000000 wm4.features.h.33.318b64d71e0957639cfb30f1db1f7ec8
                           .group:0000000000000000 wm4._default_types.h.15.247e5cd201eca3442cbf5404108c4935
                           .group:0000000000000000 wm4._intsup.h.10.48bafbb683905c4daa4565a85aeeb264
                           .group:0000000000000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:0000000000000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:0000000000000000 wm4.cmsis_version.h.32.4d5822004c01a829a975260e854b5f8e
                           .group:0000000000000000 wm4.core_cm3.h.66.fc46cac19810db8f98d67da7ef88f42c
                           .group:0000000000000000 wm4.cmsis_gcc.h.26.225e4f5469716fdeef823d1102f5b23e
                           .group:0000000000000000 wm4.core_cm3.h.127.f4474120f1a7524deb56f9d74ff175da
                           .group:0000000000000000 wm4.stm32f103x6.h.568.9fd852b5e75beca9bb663a0bce9fae78
                           .group:0000000000000000 wm4.stm32f1xx.h.162.96b09079a093c34dbd7f0b85cbd0ddee
                           .group:0000000000000000 wm4.stm32_hal_legacy.h.23.91ba5b544a4c2be2620a1e7ff0049e10
                           .group:0000000000000000 wm4.stddef.h.39.144cf5ddcd53cbfdac30259dc1a6c87f
                           .group:0000000000000000 wm4.stm32f1xx_hal_def.h.57.18d01ce1aa74e9fb44dbf16f821a574a
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc.h.95.21591bbc513aaa813c0b8640c3b32517
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc_ex.h.22.3a0b7e8041b3028f6cff6afd78fd4b60
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc.h.1202.f8e5f9e0cf4eef7840facf5396029056
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio.h.22.fa638d688dcc57ca806fe6a7831b0d04
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio_ex.h.22.617211ec6e7b3eddc2f02f2368733652
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio.h.263.f5ebf2f545ade59412ab9261c8e35dc4
                           .group:0000000000000000 wm4.stm32f1xx_hal_exti.h.22.dc59ac364fa012cb16d8761e7084fd2f
                           .group:0000000000000000 wm4.stm32f1xx_hal_dma.h.22.3c14338534886827bf3aeaa2a7f412a1
                           .group:0000000000000000 wm4.stm32f1xx_hal_dma_ex.h.22.001ac4d7f81ccbdcae49bd65c13858c8
                           .group:0000000000000000 wm4.stm32f1xx_hal_dma.h.409.cafcd2cfe701091535636be537c18293
                           .group:0000000000000000 wm4.stm32f1xx_hal_cortex.h.22.b5f4174bb6a50d95405567b8f50e0900
                           .group:0000000000000000 wm4.stm32f1xx_hal_flash.h.22.5cea9a7210e6315b41724b47b5fdf203
                           .group:0000000000000000 wm4.stm32f1xx_hal_flash_ex.h.22.de0d1acc862cc89e7d650af43a77624f
                           .group:0000000000000000 wm4.stm32f1xx_hal_pwr.h.22.3438c476faafc3240bf146f143df3fcd
                           .group:0000000000000000 wm4.stm32f1xx_hal_tim.h.22.a16e206564e97dbace9faae59a0d6008
ARM GAS  C:\Users\KAI\AppData\Local\Temp\cc4vROrP.s 			page 8


                           .group:0000000000000000 wm4.stm32f1xx_hal_uart.h.22.5f7992e497faa36aa98f09f7214f4dbb
                           .group:0000000000000000 wm4.stm32f1xx_hal.h.88.b8fc6489a2f01723e8d9e391c1072aa4
                           .group:0000000000000000 wm4.main.h.61.74d1da09ab2b5e68d645d6eba4bce708
                           .group:0000000000000000 wm4.button.h.13.05acf9da876b1f6b3b074679a1d14a8a

UNDEFINED SYMBOLS
HAL_GPIO_TogglePin
HAL_GPIO_ReadPin
